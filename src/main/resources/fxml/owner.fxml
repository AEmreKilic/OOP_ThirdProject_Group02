<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<BorderPane xmlns="http://javafx.com/javafx/22.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="edu.khas.cmpe343.group5.OwnerController">

    <!-- ÜST: GreenGrocer barı + owner + Logout -->
    <top>
        <HBox style="-fx-background-color: #2e7d32; -fx-padding: 10;" spacing="15">
            <children>
                <Label text="GreenGrocer"
                       style="-fx-text-fill: white; -fx-font-size: 20; -fx-font-weight: bold;"/>

                <Pane HBox.hgrow="ALWAYS"/>

                <Label fx:id="usernameLabel"
                       text="owner"
                       style="-fx-text-fill: white;"/>

                <Button text="Logout"
                        onAction="#handleLogout"
                        style="-fx-background-color: white; -fx-text-fill: #2e7d32; -fx-font-weight: bold;"/>
            </children>
        </HBox>
    </top>

    <!-- ORTA: TabPane (Products, Carriers, Orders, Messages) -->
    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE">
            <tabs>

                <!-- PRODUCTS TAB -->
                <Tab text="Products">
                    <content>
                        <BorderPane style="-fx-padding: 10;">
                            <left>
                                <VBox spacing="5">
                                    <children>
                                        <Label text="Product List"
                                               style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                                        <ListView fx:id="productsListView"
                                                  prefWidth="350"
                                                  prefHeight="400"
                                                  onMouseClicked="#handleFillFieldsFromSelection"/>
                                    </children>
                                </VBox>
                            </left>
                            <center>
                                <Region prefWidth="20"/>
                            </center>
                            <right>
                                <VBox spacing="5" style="-fx-padding: 10; -fx-background-color: #f5f5f5; -fx-background-radius: 5;">
                                    <children>
                                        <Label text="Name:"/>
                                        <TextField fx:id="productNameField"/>

                                        <Label text="Category:"/>
                                        <TextField fx:id="productCategoryField"/>

                                        <Label text="Price (₺):"/>
                                        <TextField fx:id="productPriceField"/>

                                        <Label text="Stock:"/>
                                        <TextField fx:id="productStockField"/>

                                        <Label text="Threshold:"/>
                                        <TextField fx:id="productThresholdField"/>

                                        <HBox spacing="10" style="-fx-padding: 10 0 0 0;">
                                            <children>
                                                <Button text="Add"
                                                        onAction="#handleAddProduct"
                                                        style="-fx-background-color: #2e7d32; -fx-text-fill: white;"/>
                                                <Button text="Update"
                                                        onAction="#handleUpdateSelectedProduct"
                                                        style="-fx-background-color: #2e7d32; -fx-text-fill: white;"/>
                                                <Button text="Remove"
                                                        onAction="#handleRemoveSelectedProduct"
                                                        style="-fx-background-color: #c62828; -fx-text-fill: white;"/>
                                            </children>
                                        </HBox>
                                    </children>
                                </VBox>
                            </right>
                        </BorderPane>
                    </content>
                </Tab>

                <!-- CARRIERS TAB -->
                <Tab text="Carriers">
                    <content>
                        <BorderPane style="-fx-padding: 10;">
                            <center>
                                <VBox spacing="5">
                                    <children>
                                        <Label text="Carriers"
                                               style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                                        <ListView fx:id="carriersListView"
                                                  prefHeight="300"/>
                                        <HBox spacing="5">
                                            <children>
                                                <TextField fx:id="newCarrierField" promptText="New carrier name"/>
                                                <Button text="Add"
                                                        onAction="#handleAddCarrier"
                                                        style="-fx-background-color: #2e7d32; -fx-text-fill: white;"/>
                                                <Button text="Remove Selected"
                                                        onAction="#handleRemoveSelectedCarrier"
                                                        style="-fx-background-color: #c62828; -fx-text-fill: white;"/>
                                            </children>
                                        </HBox>
                                    </children>
                                </VBox>
                            </center>
                        </BorderPane>
                    </content>
                </Tab>

                <!-- ORDERS TAB -->
                <Tab text="Orders">
                    <content>
                        <VBox spacing="5" style="-fx-padding: 10;">
                            <children>
                                <Label text="All Orders"
                                       style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                                <ListView fx:id="ordersListView"
                                          prefHeight="400"/>
                                <!-- İleride filtre butonları vs. eklenebilir -->
                            </children>
                        </VBox>
                    </content>
                </Tab>

                <!-- MESSAGES TAB -->
                <Tab text="Messages">
                    <content>
                        <BorderPane style="-fx-padding: 10;">
                            <left>
                                <VBox spacing="5">
                                    <children>
                                        <Label text="Customer Messages"
                                               style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                                        <ListView fx:id="messagesListView"
                                                  prefWidth="300"
                                                  prefHeight="350"/>
                                    </children>
                                </VBox>
                            </left>
                            <center>
                                <Region prefWidth="20"/>
                            </center>
                            <right>
                                <VBox spacing="5" style="-fx-padding: 10; -fx-background-color: #f5f5f5; -fx-background-radius: 5;">
                                    <children>
                                        <Label text="Reply:"/>
                                        <TextArea fx:id="replyTextArea"
                                                  prefWidth="300"
                                                  prefHeight="200"/>
                                        <Button text="Send Reply"
                                                onAction="#handleReplyMessage"
                                                style="-fx-background-color: #2e7d32; -fx-text-fill: white;"/>
                                    </children>
                                </VBox>
                            </right>
                        </BorderPane>
                    </content>
                </Tab>

            </tabs>
        </TabPane>
    </center>

</BorderPane>
